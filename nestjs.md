### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Nest.js –ø–µ—Ä–µ–¥ –¥—Ä—É–≥–∏–º–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏**  

1. **–ß–µ—Ç–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ DI**  
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **–º–æ–¥—É–ª–∏ –∏ Dependency Injection (DI)**, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ **–≥–∏–±–∫–∏–º** –∏ **—Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º**.  
   - –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Express, –≥–¥–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –≤—Ä—É—á–Ω—É—é —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏, Nest.js –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **IoC-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**.  

2. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**  
   - –ü–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å **MVC, Hexagonal, CQRS, DDD**.  
   - –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ **–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã** –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ **gRPC, Kafka, RabbitMQ** –±–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.  

3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ OpenAPI**  
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `class-validator` –∏ `class-transformer` —É–ø—Ä–æ—â–∞–µ—Ç **–≤–∞–ª–∏–¥–∞—Ü–∏—é DTO**.  
   - –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è **Swagger (OpenAPI)** —á–µ—Ä–µ–∑ `@nestjs/swagger`.  

4. **–ì–∏–±–∫–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞**  
   - –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Express/Fastify**.  
   - –õ–µ–≥–∫–æ –º–µ–Ω—è—Ç—å **REST –Ω–∞ GraphQL/WebSockets/gRPC** –±–µ–∑ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏.  

---

### **–ö–∞–≤–µ—Ä–∑–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ –ø–æ Nest.js**  

‚ùì **1. –ö–∞–∫ Nest.js —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–∂–∞—Ç—å?**  
üí° **–û—Ç–≤–µ—Ç:**  
- Nest.js –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ñ–æ—Ä–≤–∞—Ä–¥–Ω—ã–µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏–∏** (`forwardRef()`).  
- –¶–∏–∫–ª—ã –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å, **—Ä–∞–∑–±–∏–≤–∞—è –º–æ–¥—É–ª–∏ –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ** –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—è **–ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã**.  
üìå **–ü—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è —á–µ—Ä–µ–∑ `forwardRef()`:**  
```typescript
@Module({
  imports: [forwardRef(() => UsersModule)],
})
export class AuthModule {}
```

---

‚ùì **2. –ß–µ–º `Request-scoped` –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç Singleton-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤?**  
üí° **–û—Ç–≤–µ—Ç:**  
- **Singleton (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)** ‚Üí –°–æ–∑–¥–∞–µ—Ç—Å—è **–æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä** –Ω–∞ –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.  
- **Request-scoped** ‚Üí –°–æ–∑–¥–∞–µ—Ç—Å—è **–Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä** –Ω–∞ –∫–∞–∂–¥—ã–π HTTP-–∑–∞–ø—Ä–æ—Å.  
üìå **–ü—Ä–∏–º–µ—Ä request-scoped –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:**  
```typescript
@Injectable({ scope: Scope.REQUEST })
export class RequestScopedService {
  constructor(@Inject(REQUEST) private request: Request) {}
}
```
üîπ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Request-scoped` –Ω–∞–¥–æ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ **—É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ø–∞–º—è—Ç—å**.

---

‚ùì **3. –ö–∞–∫ –≤ Nest.js —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ–∂–º–æ–¥—É–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±–µ–∑ –∂–µ—Å—Ç–∫–æ–π —Å–≤—è–∑–∏?**  
üí° **–û—Ç–≤–µ—Ç:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Custom Providers –∏ Aliases**  
üìå **–ü—Ä–∏–º–µ—Ä:**  
```typescript
@Module({
  providers: [{ provide: 'USER_REPO', useClass: UsersRepository }],
  exports: ['USER_REPO'],
})
export class UsersModule {}

@Module({
  imports: [UsersModule],
  providers: [{ provide: 'USER_REPO', useExisting: UsersRepository }],
})
export class OrdersModule {}
```
üîπ –¢–µ–ø–µ—Ä—å **OrdersModule** –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –Ω–∞–ø—Ä—è–º—É—é –æ—Ç UsersModule, –Ω–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `USER_REPO`.

---

‚ùì **4. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Guards, Interceptors –∏ Middleware?**  
üí° **–û—Ç–≤–µ—Ç:**  
- **Guards (`@UseGuards()`)** ‚Üí –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç **–¥–æ—Å—Ç—É–ø –∫ –º–∞—Ä—à—Ä—É—Ç–∞–º** (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è).  
- **Interceptors (`@UseInterceptors()`)** ‚Üí –ú–æ–≥—É—Ç **–∏–∑–º–µ–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã** (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ).  
- **Middleware (`app.use()`)** ‚Üí **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç** –∑–∞–ø—Ä–æ—Å—ã –ø–µ—Ä–µ–¥ –∏—Ö –ø–æ–ø–∞–¥–∞–Ω–∏–µ–º –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä.  

üìå **–ü—Ä–∏–º–µ—Ä Guard (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ —Ç–æ–∫–µ–Ω—É)**  
```typescript
@Injectable()
export class AuthGuard implements CanActivate {
  canActivate(context: ExecutionContext): boolean {
    const request = context.switchToHttp().getRequest();
    return request.headers.authorization === 'Bearer VALID_TOKEN';
  }
}
```
üìå **–ü—Ä–∏–º–µ—Ä Interceptor (–∏–∑–º–µ–Ω—è–µ—Ç –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞)**  
```typescript
@Injectable()
export class TransformInterceptor<T> implements NestInterceptor<T, Response> {
  intercept(context: ExecutionContext, next: CallHandler<T>): Observable<Response> {
    return next.handle().pipe(map(data => ({ success: true, data })));
  }
}
```

---

‚ùì **5. –ö–∞–∫ –≤ Nest.js —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É?**  
üí° **–û—Ç–≤–µ—Ç:**  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **@nestjs/microservices** —Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞–º–∏ **TCP, Redis, RabbitMQ, Kafka**.  
üìå **–ü—Ä–∏–º–µ—Ä –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ —Å Redis:**  
```typescript
import { NestFactory } from '@nestjs/core';
import { MicroserviceOptions, Transport } from '@nestjs/microservices';

async function bootstrap() {
  const app = await NestFactory.createMicroservice<MicroserviceOptions>(
    AppModule,
    { transport: Transport.REDIS, options: { host: 'localhost', port: 6379 } },
  );
  await app.listen();
}
bootstrap();
```
üîπ –¢–µ–ø–µ—Ä—å —Å–µ—Ä–≤–∏—Å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ **Redis**, –∞ –Ω–µ HTTP.

---

### **–í—ã–≤–æ–¥**
Nest.js –Ω–µ –ø—Ä–æ—Å—Ç–æ —É–ª—É—á—à–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–æ –∏ —Ä–µ—à–∞–µ—Ç –º–Ω–æ–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –≤ –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.  
üî• –ì–æ—Ç–æ–≤ —Ä–∞–∑–æ–±—Ä–∞—Ç—å **–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏** –∏–ª–∏ **–≥–ª—É–±–æ–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ**! üöÄ
